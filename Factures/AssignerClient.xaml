<UserControl x:Class="Facturio.Factures.AssignerClient"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Facturio.Factures"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

    <UserControl.DataContext>
        <local:AssignerClientController/>
    </UserControl.DataContext>

    <Grid VerticalAlignment="Stretch">
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0"
                          Grid.Column="0"
                          Grid.ColumnSpan="6">
            <TextBox Name="txtRechercherClient" Height="20" Margin="120 0 120 0" TextChanged="txtRechercherClient_TextChanged" />
        </Grid>
        <Grid Grid.Row="1"
                          Grid.Column="0"
                          Grid.ColumnSpan="6"
                          Grid.RowSpan="4">
            <DataGrid ItemsSource="{Binding Clients}" SelectionMode="Single" Name="dtgAfficheClient" 
                                      BorderBrush="Black" Height="auto" HorizontalAlignment="Center" VerticalAlignment="Stretch"
                                      AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" CanUserDeleteRows="False" Margin="40 0 40 10">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="No. Client" Width="3*" Binding="{Binding NoClient}" />
                    <DataGridTextColumn Header="Prénom" Width="4*" Binding="{Binding Prenom}" />
                    <DataGridTextColumn Header="Nom" Width="4*" Binding="{Binding Nom}"  />

                    <DataGridTextColumn Header="Téléphone" Width="3*" Binding="{Binding Telephone}" />

                    <DataGridTextColumn Header="Province" Width="3*" Binding="{Binding Province.Nom}"/>
                    <DataGridTextColumn Header="Adresse" Width="7*" Binding="{Binding Adresse}"/>
                    <DataGridTextColumn Header="Code postal" Width="4*" Binding="{Binding CodePostal}" />
                    <DataGridTextColumn Header="Rang" Width="3*" Binding="{Binding Rang.Nom}" />
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
        <DockPanel Grid.Row="5"
                   Grid.ColumnSpan="10">
            <Button Margin="10,0,0,10" Content="Assigner" Name="btnAssigner" IsEnabled="True" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="100" Click="btnAssigner_Click" />
            <Button Margin="0,0,10,10" Content="Retour" Name="btnRetour" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="100" Click="btnRetour_Click" />
        </DockPanel>
    </Grid>
</UserControl>
